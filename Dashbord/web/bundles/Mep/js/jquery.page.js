(function(b){var c=1;var d=null;var a=null;jQuery.fn.transitionPage=function(f,e){if(a.transitionFunction){a.transitionFunction(f,e)}else{b(f).hide();b(e).show()}b(d+" fieldset").removeClass("active-page");b(e).addClass("active-page")};jQuery.fn.showState=function(f){if(a.stateFunction){return a.stateFunction(d+"_nav .multipage_state",f,a.pages.length)}var e="";for(x=1;x<=a.pages.length;x++){if(x==f){e=e+a.activeDot}else{e=e+a.inactiveDot}}b(d+"_nav .multipage_state").html('<textarea style="display: none; width:500px"></textarea><div class="footer" style="margin-left:10%;margin-right:10%;width:80%"></div>');b(d+"_nav_header .multipage_state_header").html('<textarea style="display: none; width:500px"></textarea><div class="header" style="width:100%"></div>')};jQuery.fn.gotopage=function(e){b(d+"_nav .multipage_next").html("Next");if(isNaN(e)){q=e;e=1;b(d+" fieldset").each(function(h){if("#"+b(this).attr("id")==q){c=e=h+1}})}var g=null;var f=b(d+" fieldset.active-page");b(d+" fieldset").each(function(h){h++;if(h==e){g=this}});b(this).transitionPage(f,g);b(this).showState(e);b(d+"_nav .multipage_next").removeClass("submit");page_title=a.pages[e-1].title;if(a.stayLinkable){hashtag="#"+a.pages[e-1].id;document.location.hash=hashtag}if(a.footer){b(d+"_nav .multipage_state").find(".footer").html(a.footer)}if(a.header){b(d+"_nav_header .multipage_state_header").find(".header").html(a.header)}if(e==1){b(d+"_nav .multipage_back").hide();b(d+"_nav .multipage_next").show();b(d+"_nav .multipage_next").html("Next")}else{if(e==a.pages.length){b(d+"_nav .multipage_back").show();b(d+"_nav .multipage_next").show();b(d+"_nav .multipage_back").html("Back");b(d+"_nav .multipage_next").hide()}else{b(d+"_nav .multipage_back").html("Back");b(d+"_nav .multipage_next").html("Next");b(d+"_nav .multipage_back").show();b(d+"_nav .multipage_next").show()}}b(d+" fieldset.active-page input:first").focus();return false};jQuery.fn.validatePage=function(e){return true};jQuery.fn.validateAll=function(){for(x=1;x<=a.pages.length;x++){if(!b(this).validatePage(x)){b(this).gotopage(x);return false}}return true};jQuery.fn.gotofirst=function(){c=1;b(this).gotopage(c);return false};jQuery.fn.gotolast=function(){c=a.pages.length;b(this).gotopage(c);return false};jQuery.fn.nextpage=function(){if(b(this).validatePage(c)){c++;if(c>a.pages.length){b(this).submit();c=a.pages;return false}b(this).gotopage(c)}b(this).find("input").each(function(){b(this).blur()});b(".ui-timepickr").each(function(){b(this).hide()});b(".ui-datepicker-ui").each(function(){b(this).hide()});return false};jQuery.fn.getPages=function(){return a.pages};jQuery.fn.prevpage=function(){c--;if(c<1){c=1}b(this).gotopage(c);b(this).find("input").each(function(){b(this).blur()});b(".ui-timepickr").each(function(){b(this).hide()});b(".ui-datepicker-ui").each(function(){b(this).hide()});return false};jQuery.fn.multipage=function(f){a=jQuery.extend({stayLinkable:false,submitLabel:"Submit",hideLegend:false,hideSubmit:true,generateNavigation:true,activeDot:"&nbsp;&#x25CF;",inactiveDot:"&nbsp;&middot;"},f);d="#"+b(this).attr("id");var g=b(this);g.addClass("multipage");g.submit(function(h){if(!b(this).validateAll()){h.preventDefault()}});b(d+" fieldset").hide();if(a.hideSubmit){b(d+' input[type="submit"]').hide()}if(b(d+' input[type="submit"]').val()!=""){a.submitLabel=b(d+' input[type="submit"]').val()}a.pages=new Array();b(this).children("fieldset").each(function(h){label=b(this).children("legend").html();a.pages[h]={number:h+1,title:label,id:b(this).attr("id")}});if(a.hideLegend){b(d+" fieldset legend").hide()}b(d+" fieldset:first").addClass("active-page");b(d+" fieldset:first").show();if(a.generateNavigation){if(a.navigationFunction){a.navigationFunction(b(this).getPages())}else{var e=b(this).attr("id");if(!b(this).next().hasClass("multipage_nav")){b('<div class="multipage_nav" id="'+e+'_nav"><a href="#" class="multipage_back" onclick="return  $(\''+d+'\').prevpage();">Back</a><a href="#"  class="multipage_next" onclick="return $(\''+d+'\').nextpage();">Next</a><div class="button-container-a" style="display:none"><div class="form-editclosebutton-on-a"></div></div><div class="multipage_state"></div><div class="clearer"></div></div>').insertAfter(this);b('<div class="multipage_nav" id="'+e+'_nav_header"><div class="button-container-a" style="display:none"><div class="form-editclosebutton-on-a"></div></div><div class="multipage_state_header"></div><div class="clearer_header"></div></div>').insertBefore(this)}}}if(document.location.hash){b(this).gotopage("#"+document.location.hash.substring(1,document.location.hash.length))}else{b(this).gotopage(1)}return false}})(jQuery);
